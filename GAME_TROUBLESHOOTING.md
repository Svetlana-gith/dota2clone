# Game.exe Troubleshooting

## üîç –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

Game.exe –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –Ω–æ:
- ‚ùå –õ–æ–≥–∏ spdlog –Ω–µ –≤–∏–¥–Ω—ã (–Ω–µ—Ç –∫–æ–Ω—Å–æ–ª–∏)
- ‚ùì UI –º–æ–∂–µ—Ç –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è
- ‚ùì –ù–µ–ø–æ–Ω—è—Ç–Ω–æ, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ GameStateManager

## üß™ –¢–µ—Å—Ç—ã

### –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Game.exe –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
.\build\bin\Release\Game.exe
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- –û–∫–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ
- –ß–µ—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω —Å UI (–∫–Ω–æ–ø–∫–∏, –º–µ–Ω—é)
- ESC –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –∏–≥—Ä—É

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —á–µ—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω –±–µ–∑ UI:**
- –ü—Ä–æ–±–ª–µ–º–∞ –≤ Panorama UI —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ

### –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

```bash
.\run_game_with_logs.bat
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
- `game_debug.log` - –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ª–æ–≥–∏
- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: "Game state manager initialized OK"

### –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ DedicatedServer —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1
.\build\bin\Release\DedicatedServer.exe

# –¢–µ—Ä–º–∏–Ω–∞–ª 2 (–ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞)
.\build\bin\Release\Game.exe
```

**–í –ª–æ–≥–∞—Ö —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:**
```
[info] >>> Client 1 connected
[info] Starting game...
```

**–ï—Å–ª–∏ –ù–ï –ø–æ—è–≤–ª—è–µ—Ç—Å—è:**
- –ö–ª–∏–µ–Ω—Ç –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
- –ü—Ä–æ–±–ª–µ–º–∞ –≤ LoadingState –∏–ª–∏ InGameState

## üêõ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: UI –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** Panorama UI –Ω–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ D2D render target —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ UI —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ root
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ CUIEngine::Render() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –í `game_debug.log` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: "Render target set OK"
- –ï—Å–ª–∏ "WARNING: Render target setup failed" - –ø—Ä–æ–±–ª–µ–º–∞ –≤ D2D

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –õ–æ–≥–∏ –Ω–µ –≤—ã–≤–æ–¥—è—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** spdlog –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –∏–ª–∏ –≤—ã–≤–æ–¥–∏—Ç –≤ –¥—Ä—É–≥–æ–µ –º–µ—Å—Ç–æ

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é spdlog –≤ GameMain.cpp ‚úÖ (—Å–¥–µ–ª–∞–Ω–æ)
- –õ–æ–≥–∏ –±—É–¥—É—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏ (–Ω–æ Game.exe - WIN32 app, –Ω–µ—Ç –∫–æ–Ω—Å–æ–ª–∏)

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:**
- –õ–æ–≥–∏ –≤ —Ñ–∞–π–ª: `logs/game.log`
- –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å file sink –¥–ª—è spdlog

### –ü—Ä–æ–±–ª–µ–º–∞ 3: GameStateManager –Ω–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ MainMenu

**–ü—Ä–∏—á–∏–Ω–∞:** –û—à–∏–±–∫–∞ –≤ Initialize()

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –ª–æ–≥–æ–≤ –≤ GameStateManager ‚úÖ (—Å–¥–µ–ª–∞–Ω–æ)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ MainMenuState::OnEnter() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –ö–ª–∏–µ–Ω—Ç –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É

**–ü—Ä–∏—á–∏–Ω–∞:** LoadingState –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç ConnectToServer()

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ LoadingState –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ InGameState
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ InGameState::ConnectToServer() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è

## üîß –ë—ã—Å—Ç—Ä—ã–µ —Ñ–∏–∫—Å—ã

### –§–∏–∫—Å 1: –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏ –≤ —Ñ–∞–π–ª

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `GameMain.cpp`:

```cpp
// –í–º–µ—Å—Ç–æ stdout
auto console = spdlog::stdout_color_mt("game");

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ file sink
auto file_sink = std::make_shared<spdlog::sinks::basic_file_sink_mt>("logs/game.log", true);
auto logger = std::make_shared<spdlog::logger>("game", file_sink);
spdlog::set_default_logger(logger);
```

### –§–∏–∫—Å 2: –°–¥–µ–ª–∞—Ç—å Game.exe –∫–æ–Ω—Å–æ–ª—å–Ω—ã–º (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `src/game/CMakeLists.txt`:

```cmake
# –ë—ã–ª–æ:
add_executable(Game WIN32
    GameMain.cpp
)

# –°—Ç–∞–ª–æ (–∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ):
add_executable(Game
    GameMain.cpp
)
```

–ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ:
```bash
cmake --build build --config Release --target Game
```

–¢–µ–ø–µ—Ä—å Game.exe –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–æ–Ω—Å–æ–ª—å —Å –ª–æ–≥–∞–º–∏!

### –§–∏–∫—Å 3: –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π UI —ç–ª–µ–º–µ–Ω—Ç

–î–æ–±–∞–≤—å—Ç–µ –≤ `MainMenuState::CreateUI()` –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ:

```cpp
// TEST: Add visible label
auto testLabel = std::make_shared<Panorama::CLabel>("GAME IS RUNNING - PRESS ESC TO EXIT");
testLabel->GetStyle().fontSize = 48.0f;
testLabel->GetStyle().color = Panorama::Color::White();
testLabel->GetStyle().horizontalAlign = Panorama::HorizontalAlign::Center;
testLabel->GetStyle().verticalAlign = Panorama::VerticalAlign::Center;
m_ui->root->AddChild(testLabel);
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —ç—Ç–æ—Ç —Ç–µ–∫—Å—Ç - UI —Ä–∞–±–æ—Ç–∞–µ—Ç!

## üìä –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å game_debug.log

```bash
type game_debug.log
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
=== Game.exe starting ===
Resolution: 1920x1080
Window created OK
D3D11 initialized OK
Panorama UI initialized OK
Render target set OK
Game state manager initialized OK
Window shown, entering main loop
Frame 1
Frame 2
Frame 3
```

‚úÖ –í—Å—ë –µ—Å—Ç—å - Game.exe –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ UI —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è

–ó–∞–ø—É—Å—Ç–∏—Ç–µ Game.exe –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω:

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ:**
- ‚úÖ –ß–µ—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω —Å –∫–Ω–æ–ø–∫–∞–º–∏/–º–µ–Ω—é - UI —Ä–∞–±–æ—Ç–∞–µ—Ç!
- ‚ùå –ü—Ä–æ—Å—Ç–æ —á–µ—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω - UI –Ω–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è
- ‚ùå –ë–µ–ª—ã–π/—Å–µ—Ä—ã–π —ç–∫—Ä–∞–Ω - –ø—Ä–æ–±–ª–µ–º–∞ —Å D3D11

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ DedicatedServer.exe
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Game.exe
3. –ù–∞–∂–º–∏—Ç–µ PLAY (–µ—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –∫–Ω–æ–ø–∫—É)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

**–ï—Å–ª–∏ –≤ –ª–æ–≥–∞—Ö —Å–µ—Ä–≤–µ—Ä–∞:**
- ‚úÖ "Client 1 connected" - multiplayer —Ä–∞–±–æ—Ç–∞–µ—Ç!
- ‚ùå –ù–∏—á–µ–≥–æ - –∫–ª–∏–µ–Ω—Ç –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ï—Å–ª–∏ UI –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:

1. –°–¥–µ–ª–∞—Ç—å Game.exe –∫–æ–Ω—Å–æ–ª—å–Ω—ã–º (—Å–º. –§–∏–∫—Å 2)
2. –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π label (—Å–º. –§–∏–∫—Å 3)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ spdlog

### –ï—Å–ª–∏ UI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:

1. –ù–∞–∂–∞—Ç—å PLAY
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å multiplayer

### –ï—Å–ª–∏ multiplayer –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ LoadingState –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ InGameState
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ ConnectToServer() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
3. –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –ª–æ–≥–æ–≤ –≤ InGameState

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± –æ—Ç–ª–∞–¥–∫–∏:**

1. –°–¥–µ–ª–∞–π—Ç–µ Game.exe –∫–æ–Ω—Å–æ–ª—å–Ω—ã–º:
   ```cmake
   # src/game/CMakeLists.txt
   add_executable(Game  # –£–±—Ä–∞—Ç—å WIN32
       GameMain.cpp
   )
   ```

2. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ:
   ```bash
   cmake --build build --config Release --target Game
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:
   ```bash
   .\build\bin\Release\Game.exe
   ```

–¢–µ–ø–µ—Ä—å –≤—ã —É–≤–∏–¥–∏—Ç–µ –≤—Å–µ –ª–æ–≥–∏ spdlog –≤ –∫–æ–Ω—Å–æ–ª–∏!

---

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ?**

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –§–∏–∫—Å 2 (–∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ) –∏ –ø–æ–∫–∞–∂–∏—Ç–µ –º–Ω–µ –ª–æ–≥–∏ - —è –ø–æ–º–æ–≥—É —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è!
